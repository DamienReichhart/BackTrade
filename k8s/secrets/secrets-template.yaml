apiVersion: v1
kind: Secret
metadata:
    name: backtrade-secrets
    namespace: backtrade
type: Opaque
stringData:
    # PostgreSQL Configuration
    POSTGRES_USER: "postgres"
    POSTGRES_PASSWORD: "CHANGE_ME" # Change this to a secure password
    POSTGRES_DB: "backtrade"

    # Cloudflare Tunnel (optional)
    TUNNEL_TOKEN: "CHANGE_ME" # The Cloudflare tunnel token if using

    # Node Configuration
    NODE_ENV: "production"
    API_HOST: "0.0.0.0"
    API_PORT: "3000"
    API_LOG_LEVEL: "info"
    API_LOG_DIR: "./logs/"

    # Api Database Configuration
    DATABASE_URL: "postgresql://postgres:CHANGE_ME@backtrade-postgres:5432/backtrade?schema=public"

    # Api Redis Configuration
    REDIS_HOST: "backtrade-redis"
    REDIS_PORT: "6379"
    REDIS_PASSWORD: "CHANGE_ME" # Change this to a secure password

    # Security Configuration
    ACCESS_TOKEN_SECRET: "CHANGE_ME" # Generate a strong random secret
    REFRESH_TOKEN_SECRET: "CHANGE_ME" # Generate a strong random secret
    ACCESS_TOKEN_EXPIRATION: "1h"
    REFRESH_TOKEN_EXPIRATION: "1d"

    # Frontend API URL
    VITE_API_URL: "http://backtrade-api:3000"

---
# Instructions:
# 1. Replace all CHANGE_ME values with actual secrets
# 2. Generate secure passwords using: openssl rand -base64 32
# 3. Apply the secret: kubectl apply -f secrets/secrets.yaml
